# Velvet UI Monorepo ç»“æ„

## ğŸ“ ç›®å½•ç»“æ„

```
velvet-ui/
â”œâ”€â”€ packages/                    # åŒ…ç›®å½•
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ src/               # æºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button/    # Button ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CodeBlock/ # CodeBlock ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ styles/        # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ types/         # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ App.tsx        # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ App.css        # åº”ç”¨æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ index.css      # å…¨å±€æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ index.ts       # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ tests/             # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ scripts/           # æ„å»ºè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ templates/         # ç»„ä»¶æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ .storybook/        # Storybook é…ç½®
â”‚   â”‚   â”œâ”€â”€ .dumi/             # Dumi é…ç½®
â”‚   â”‚   â”œâ”€â”€ .husky/            # Git hooks
â”‚   â”‚   â”œâ”€â”€ package.json       # æ ¸å¿ƒåŒ…é…ç½®
â”‚   â”‚   â”œâ”€â”€ vite.config.ts     # Vite é…ç½®
â”‚   â”‚   â”œâ”€â”€ tsconfig.json      # TypeScript é…ç½®
â”‚   â”‚   â”œâ”€â”€ jest.config.js     # Jest é…ç½®
â”‚   â”‚   â””â”€â”€ .babelrc.js        # Babel é…ç½®
â”‚   â””â”€â”€ docs/                  # æ–‡æ¡£ç½‘ç«™
â”‚       â”œâ”€â”€ src/               # æ–‡æ¡£æºä»£ç 
â”‚       â”‚   â”œâ”€â”€ App.tsx        # æ–‡æ¡£åº”ç”¨
â”‚       â”‚   â”œâ”€â”€ App.css        # æ–‡æ¡£æ ·å¼
â”‚       â”‚   â”œâ”€â”€ index.css      # å…¨å±€æ ·å¼
â”‚       â”‚   â””â”€â”€ main.tsx       # æ–‡æ¡£å…¥å£
â”‚       â”œâ”€â”€ package.json       # æ–‡æ¡£åŒ…é…ç½®
â”‚       â””â”€â”€ vite.config.ts     # æ–‡æ¡£ Vite é…ç½®
â”œâ”€â”€ tools/                      # å·¥å…·ç›®å½•
â”‚   â”œâ”€â”€ build/                 # æ„å»ºå·¥å…·
â”‚   â”‚   â””â”€â”€ package.json       # æ„å»ºå·¥å…·é…ç½®
â”‚   â””â”€â”€ scripts/               # è‡ªåŠ¨åŒ–è„šæœ¬
â”‚       â””â”€â”€ package.json       # è„šæœ¬é…ç½®
â”œâ”€â”€ package.json               # æ ¹é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml        # Workspace é…ç½®
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â””â”€â”€ MONOREPO_STRUCTURE.md      # æœ¬æ–‡æ¡£
```

## ğŸ—ï¸ æ¶æ„è¯´æ˜

### 1. æ ¹ç›®å½•é…ç½®

**package.json (æ ¹)**
- å®šä¹‰ workspace é…ç½®
- æä¾›å…¨å±€è„šæœ¬å‘½ä»¤
- ç®¡ç†å…±äº«çš„å¼€å‘ä¾èµ–

**pnpm-workspace.yaml**
- å®šä¹‰ workspace åŒ…è·¯å¾„
- é…ç½® `packages/*` å’Œ `tools/*`

### 2. æ ¸å¿ƒåŒ… (@velvet-ui/core)

**åŠŸèƒ½**
- åŒ…å«æ‰€æœ‰ React ç»„ä»¶
- æä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰
- æ”¯æŒå¤šç§æ„å»ºæ ¼å¼ (ESM, CJS, UMD)

**æ„å»ºè¾“å‡º**
- `lib/` - CommonJS æ ¼å¼
- `esm/` - ES Modules æ ¼å¼
- TypeScript å£°æ˜æ–‡ä»¶

**å¼€å‘å·¥å…·**
- Storybook - ç»„ä»¶å¼€å‘å’Œæ–‡æ¡£
- Jest + RTL - å•å…ƒæµ‹è¯•
- Playwright - E2E æµ‹è¯•
- ESLint + Prettier - ä»£ç è´¨é‡

### 3. æ–‡æ¡£åŒ… (@velvet-ui/docs)

**åŠŸèƒ½**
- å±•ç¤ºç»„ä»¶ä½¿ç”¨ç¤ºä¾‹
- æä¾›å®Œæ•´çš„æ–‡æ¡£ç½‘ç«™
- æ”¯æŒç»„ä»¶äº¤äº’æ¼”ç¤º

**æŠ€æœ¯æ ˆ**
- React + TypeScript
- Vite æ„å»º
- å¼•ç”¨æ ¸å¿ƒåŒ…ç»„ä»¶

### 4. å·¥å…·åŒ…

**@velvet-ui/build**
- æ„å»ºå·¥å…·å’Œè„šæœ¬
- è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹

**@velvet-ui/scripts**
- å¼€å‘è„šæœ¬
- ä»£ç ç”Ÿæˆå·¥å…·

## ğŸš€ å¼€å‘æµç¨‹

### 1. å®‰è£…ä¾èµ–
```bash
pnpm install
```

### 2. å¼€å‘å‘½ä»¤
```bash
# å¯åŠ¨æ–‡æ¡£ç½‘ç«™
pnpm dev

# å¯åŠ¨ Storybook
pnpm storybook

# æ„å»ºæ ¸å¿ƒåº“
pnpm build

# è¿è¡Œæµ‹è¯•
pnpm test
```

### 3. åŒ…é—´ä¾èµ–
```bash
# åœ¨ docs åŒ…ä¸­å¼•ç”¨ core åŒ…
import { Button } from '@velvet-ui/core';
```

## ğŸ“¦ åŒ…ç®¡ç†

### æ·»åŠ æ–°åŒ…
1. åœ¨ `packages/` ä¸‹åˆ›å»ºæ–°ç›®å½•
2. æ·»åŠ  `package.json`
3. è¿è¡Œ `pnpm install`

### åŒ…é—´ä¾èµ–
```json
{
  "dependencies": {
    "@velvet-ui/core": "workspace:*"
  }
}
```

### å‘å¸ƒæµç¨‹
```bash
# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# å‘å¸ƒæ ¸å¿ƒåŒ…
cd packages/core
pnpm publish
```

## ğŸ¯ ä¼˜åŠ¿

1. **ç»Ÿä¸€ç®¡ç†** - æ‰€æœ‰ç›¸å…³é¡¹ç›®åœ¨ä¸€ä¸ªä»“åº“
2. **å…±äº«é…ç½®** - ç»Ÿä¸€çš„å·¥å…·é“¾å’Œé…ç½®
3. **ä¾èµ–ç®¡ç†** - åŒ…é—´ä¾èµ–ç®€å•ç®¡ç†
4. **å¼€å‘æ•ˆç‡** - è·¨åŒ…é‡æ„å’Œå¼€å‘
5. **ç‰ˆæœ¬æ§åˆ¶** - ç»Ÿä¸€çš„ç‰ˆæœ¬ç®¡ç†

## ğŸ”§ é…ç½®è¯´æ˜

### TypeScript é…ç½®
- æ ¹ç›®å½•ï¼šåŸºç¡€é…ç½®
- å„åŒ…ï¼šç‰¹å®šé…ç½®

### ESLint é…ç½®
- æ ¹ç›®å½•ï¼šå…±äº«è§„åˆ™
- å„åŒ…ï¼šç‰¹å®šè§„åˆ™

### Vite é…ç½®
- core åŒ…ï¼šåº“æ¨¡å¼æ„å»º
- docs åŒ…ï¼šåº”ç”¨æ¨¡å¼æ„å»º

## ğŸ“‹ æ³¨æ„äº‹é¡¹

1. **åŒ…åè§„èŒƒ** - ä½¿ç”¨ `@velvet-ui/*` å‘½åç©ºé—´
2. **ä¾èµ–ç®¡ç†** - ä½¿ç”¨ `workspace:*` å¼•ç”¨æœ¬åœ°åŒ…
3. **æ„å»ºé¡ºåº** - å…ˆæ„å»º coreï¼Œå†æ„å»º docs
4. **ç‰ˆæœ¬åŒæ­¥** - ä¿æŒåŒ…ç‰ˆæœ¬ä¸€è‡´æ€§ 